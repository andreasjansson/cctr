%platform unix
===
CCTR_FIXTURE_DIR env var is set
===
test -n "$CCTR_FIXTURE_DIR" && echo "set"
---
set

===
CCTR_WORK_DIR env var is set
===
test -n "$CCTR_WORK_DIR" && echo "set"
---
set

===
can read fixture file using CCTR_FIXTURE_DIR
===
cat "$CCTR_FIXTURE_DIR/data.txt"
---
test data

===
pwd is CCTR_FIXTURE_DIR
===
test "$(pwd)" = "$CCTR_FIXTURE_DIR" && echo "match"
---
match

===
variable capture with duck typing
===
echo "count: 42"
---
count: {{ n }}
---
where
* n == 42

===
variable capture with explicit type
===
echo "name: alice"
---
name: {{ s: string }}
---
where
* s == "alice"
