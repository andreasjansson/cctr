%skip(Unix only) platform: windows
===
stdin simple test passes
===
printf '===\ntest\n===\necho hello\n---\nhello\n' | cctr - --no-color 2>&1 | tail -1
---
All 1 tests passed in {{ t: number }}s
---
where
* t < 10

===
stdin test with variables
===
printf '===\ntest\n===\necho 42\n---\n{{ n: number }}\n---\nwhere\n* n == 42\n' | cctr - --no-color 2>&1 | tail -1
---
All 1 tests passed in {{ t: number }}s
---
where
* t < 10

===
stdin test with json
===
printf '===\ntest\n===\necho '\''{"x": 1}'\''\n---\n{{ o: json object }}\n---\nwhere\n* o.x == 1\n' | cctr - --no-color 2>&1 | tail -1
---
All 1 tests passed in {{ t: number }}s
---
where
* t < 10

===
stdin failing test
===
printf '===\ntest\n===\necho wrong\n---\nexpected\n' | cctr - --no-color 2>&1 | grep "0 passed, 1 failed"
---
Summary: 0 passed, 1 failed, 0 skipped in {{ t: number }}s
---
where
* t < 10
