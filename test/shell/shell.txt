%platform unix, mac, linux

===
file-level bash shell tests pass
===
cctr $CCTR_FIXTURE_DIR/tests/bash.txt --no-color 2>&1 | tail -1
---
All 4 tests passed in {{ t: number }}s

===
file-level sh shell tests pass
===
cctr $CCTR_FIXTURE_DIR/tests/sh.txt --no-color 2>&1 | tail -1
---
All 2 tests passed in {{ t: number }}s

===
file-level shell with default shell tests pass
===
cctr $CCTR_FIXTURE_DIR/tests/file_level.txt --no-color 2>&1 | tail -1
---
All 2 tests passed in {{ t: number }}s

===
sh file-level shell tests pass
===
cctr $CCTR_FIXTURE_DIR/tests/override.txt --no-color 2>&1 | tail -1
---
All 2 tests passed in {{ t: number }}s

===
cmd multiline warning appears in verbose output
===
cctr $CCTR_FIXTURE_DIR/cmd_warning --no-color -v 2>&1 | grep "Warning.*cmd.exe does not support multi-line" | head -1
---
  ⚠ Warning: cmd.exe does not support multi-line commands; only the first line will execute

===
cmd multiline warning appears in failure output
===
cctr $CCTR_FIXTURE_DIR/cmd_warning --no-color 2>&1 | grep "Warning.*cmd.exe does not support multi-line" | head -1
---
  ⚠ Warning: cmd.exe does not support multi-line commands; only the first line will execute
